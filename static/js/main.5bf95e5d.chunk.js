(this["webpackJsonpwetelo-bp"]=this["webpackJsonpwetelo-bp"]||[]).push([[0],{61:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){},69:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(15),i=c.n(n),s=(c(61),c(62),c.p+"static/media/airplane.a72ab1a1.jpg"),o=c(2);var j=function(){return Object(o.jsx)("div",{id:"page-container",children:Object(o.jsxs)("div",{id:"content-wrap",children:[Object(o.jsx)("img",{className:"airplane-img",src:s,alt:"airplane.jpg"}),Object(o.jsx)("h1",{className:"heading",children:'\u0420\u043e\u0437\u043a\u043b\u0430\u0434 \u0430\u0435\u0440\u043e\u043f\u043e\u0440\u0442 "\u041a\u0438\u0457\u0432"'}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(I,{}),Object(o.jsx)(F,{}),Object(o.jsx)(C,{})]}),Object(o.jsx)(l,{})]})})};c(64);var l=function(){return Object(o.jsx)("div",{id:"footer",children:Object(o.jsxs)("p",{children:["Copyright \xa9",(new Date).getFullYear()]})})},u=c(32),d=c(107),b=c(110),h=c(109),O=c(50),g=c.n(O),p=c(51),f=c.n(p),x=c(13),m="FLIGHTS",v="WAY",y="TRIGGER_FETCHING",w="ERROR";var F=function(){var e=a.a.useState("departure"),t=Object(u.a)(e,2),c=t[0],r=t[1],n=Object(x.b)();return Object(o.jsx)(d.a,{square:!0,children:Object(o.jsxs)(b.a,{value:c,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){r(t),n({type:v,payload:t})},"aria-label":"tabs",children:[Object(o.jsx)(h.a,{value:"departure",label:"\u0412\u0406\u0414\u041f\u0420\u0410\u0412\u041b\u0415\u041d\u041d\u042f",icon:Object(o.jsx)(g.a,{})}),Object(o.jsx)(h.a,{value:"arrival",label:"\u041f\u0420\u0418\u0411\u0423\u0422\u0422\u042f",icon:Object(o.jsx)(f.a,{})})]})})};c(69);var T=function(e){var t=e.time,c=e.direction,r=e.flight,a=e.company,n=e.status,i=e.message;return i?Object(o.jsx)("h5",{children:i}):Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t}),Object(o.jsx)("td",{children:c}),Object(o.jsx)("td",{children:r}),Object(o.jsx)("td",{children:a}),Object(o.jsx)("td",{children:n})]})},N=c(52),D=c.n(N);c(88);var I=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],n=c.replaceAll(" ","").toLowerCase(),i=Object(x.c)((function(e){return e})),s=Object(x.b)(),j="departure"===i.way?"To":"From",l=1===n.length?1:2;function d(){D.a.get("https://api.iev.aero/api/flights/".concat(function(){var e=new Date,t=e.getUTCDate(),c=e.getUTCMonth()+1;return t<10&&(t="0"+t),c<10&&(c="0"+c),t+"-"+c+"-"+e.getUTCFullYear()}())).then((function(e){var t;s((t=e.data.body[i.way].filter((function(e){return function(e){return c?n===e["airport".concat(j,"ID.city")].toLowerCase().slice(0,n.length)||n.slice(0,l)===e["carrierID.IATA"].toLowerCase().slice(0,l)&&n.slice(2)===e.fltNo.slice(0,n.slice(2).length):e}(e)})),{type:m,payload:t}))})).catch((function(e){s(function(e){return{type:w,payload:e}}(e)),console.log("Error:",e)}))}return Object(r.useEffect)((function(){d()}),[i.toggleFetching,c]),Object(o.jsx)("div",{className:"form-wrapper",children:Object(o.jsxs)("div",{className:"input-group mb-3",children:[Object(o.jsx)("i",{className:"fas fa-search fa-2x"}),Object(o.jsx)("input",{id:"search",type:"text",value:c,className:"form-control",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0440\u0435\u0439\u0441\u0443 \u0430\u0431\u043e \u043c\u0456\u0441\u0442\u043e",onChange:function(e){a(e.target.value)}}),Object(o.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){s({type:y})},children:"\u041f\u043e\u0448\u0443\u043a"})]})})};c(89);var C=function(){var e,t=Object(x.c)((function(e){return e})),c="departure"===t.way?"To":"From",r="departure"===t.way?"timeDepShedule":"timeToStand",a="departure"===t.way?"'\u0412\u0406\u0414\u041f\u0420\u0410\u0412\u041b\u0415\u041d\u041d\u042f'":"'\u041f\u0420\u0418\u0411\u0423\u0422\u0422\u042f'";return e=Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"\u0427\u0410\u0421"}),Object(o.jsx)("th",{children:"\u041d\u0410\u041f\u0420\u042f\u041c\u041e\u041a"}),Object(o.jsx)("th",{children:"\u0420\u0415\u0419\u0421"}),Object(o.jsx)("th",{children:"\u041a\u041e\u041c\u041f\u0410\u041d\u0406\u042f"}),Object(o.jsx)("th",{children:"\u0421\u0422\u0410\u0422\u0423\u0421"})]})}),Object(o.jsx)("tbody",{children:t.flights.map((function(e){var t=e.ID,a=e[r],n=e["airport".concat(c,"ID.city")],i=e["airport".concat(c,"ID.IATA")],s=e["carrierID.IATA"],j=e.fltNo,l=e.airline.en.name,u=e.status,d=function(e){var t=new Date(e);t.setTime(t.getTime());var c=t.getHours(),r=t.getMinutes();return c<10&&(c="0"+c),r<10&&(r="0"+r),"".concat(c,":").concat(r)}(a),b=function(e){switch(e){case"LN":return"\u041f\u0440\u0438\u0431\u0443\u0432";case"ON":return"\u0412\u0447\u0430\u0441\u043d\u043e";case"DP":return"\u0412\u0438\u043b\u0435\u0442\u0456\u0432";case"CK":return"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f";default:return e}}(u);return Object(o.jsx)(T,{time:d,direction:"".concat(n," (").concat(i,")"),flight:"".concat(s," ").concat(j),company:l,status:b},t)}))})]}),t.flights.length>0?e:t.isFetched&&!t.error?Object(o.jsx)(T,{message:"\u0420\u0435\u0439\u0441\u0456\u0432 \u0437\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438 \u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457 ".concat(a," \u043d\u0435\u043c\u0430\u0454.")}):t.error?Object(o.jsx)(T,{message:"\u0421\u0442\u0430\u043b\u0430\u0441\u044c \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435. ".concat(t.errorMessage)}):Object(o.jsx)(T,{message:"Loading..."})},E=c(53),_=c(14),S=Object(E.a)((function(e,t){var c=t.type,r=t.payload;switch(c){case m:return Object(_.a)(Object(_.a)({},e),{},{flights:r,isFetched:!0,error:!1});case v:return Object(_.a)(Object(_.a)({},e),{},{flights:[],way:r,toggleFetching:!e.toggleFetching,isFetched:!1,error:!1});case y:return Object(_.a)(Object(_.a)({},e),{},{flights:[],toggleFetching:!e.toggleFetching,isFetched:!1,error:!1});case w:return Object(_.a)(Object(_.a)({},e),{},{flights:[],isFetched:!0,error:!0,errorMessage:r});default:return e}}),{flights:[],way:"departure",isFetched:!1,error:!1,errorMessage:"",toggleFetching:!1},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(x.a,{store:S,children:Object(o.jsx)(j,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.5bf95e5d.chunk.js.map